/* Base Styles and Variables */
:root {
   :root {
      /* Set default references to avoid undefined values */
      --bg-color: var(--bg-color-light);
      --text-color: var(--text-color-light);
      --primary-color: var(--primary-color-light);
      --secondary-color: var(--secondary-color-light);
      --accent-color: var(--accent-color-light);
      --card-bg: var(--card-bg-light);
      --input-bg: var(--input-bg-light);
      --header-bg: var(--header-bg-light);
      --footer-bg: var(--footer-bg-light);
      --shadow: var(--shadow-light);
      --inset-shadow: var(--inset-shadow-light);
      --button-shadow: var(--button-shadow-light);
    }
    
   /* Light Theme */
   --bg-color-light: #f8fafc;
   --text-color-light: #334155;
   --primary-color-light: #4f46e5;
   --secondary-color-light: #e2e8f0;
   --accent-color-light: #8b5cf6;
   --card-bg-light: #ffffff;
   --input-bg-light: #f1f5f9;
   --header-bg-light: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
   --footer-bg-light: #ffffff;
   --shadow-light: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025);
   --inset-shadow-light: inset 0 2px 4px rgba(0, 0, 0, 0.05);
   --button-shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
 
   /* Dark Theme */
   --bg-color-dark: #0f172a;
   --text-color-dark: #e2e8f0;
   --primary-color-dark: #6366f1;
   --secondary-color-dark: #1e293b;
   --accent-color-dark: #a78bfa;
   --card-bg-dark: #1e293b;
   --input-bg-dark: #0f172a;
   --header-bg-dark: linear-gradient(135deg, #1e1e2e 0%, #2d2b42 100%);
   --footer-bg-dark: #1e293b;
   --shadow-dark: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.15);
   --inset-shadow-dark: inset 0 2px 4px rgba(0, 0, 0, 0.2);
   --button-shadow-dark: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.18);
 
   /* Common Variables */
   --border-radius: 12px;
   --button-radius: 8px;
   --transition-speed: 0.3s;
 }
 
 /* Theme Classes */
 body.light-mode {
   --bg-color: var(--bg-color-light);
   --text-color: var(--text-color-light);
   --primary-color: var(--primary-color-light);
   --secondary-color: var(--secondary-color-light);
   --accent-color: var(--accent-color-light);
   --card-bg: var(--card-bg-light);
   --input-bg: var(--input-bg-light);
   --header-bg: var(--header-bg-light);
   --footer-bg: var(--footer-bg-light);
   --shadow: var(--shadow-light);
   --inset-shadow: var(--inset-shadow-light);
   --button-shadow: var(--button-shadow-light);
 }
 
 body.dark-mode {
   --bg-color: var(--bg-color-dark);
   --text-color: var(--text-color-dark);
   --primary-color: var(--primary-color-dark);
   --secondary-color: var(--secondary-color-dark);
   --accent-color: var(--accent-color-dark);
   --card-bg: var(--card-bg-dark);
   --input-bg: var(--input-bg-dark);
   --header-bg: var(--header-bg-dark);
   --footer-bg: var(--footer-bg-dark);
   --shadow: var(--shadow-dark);
   --inset-shadow: var(--inset-shadow-dark);
   --button-shadow: var(--button-shadow-dark);
 }
 
 /* Global Styles */
 * {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
   font-family: "Poppins", sans-serif;
 }
 
 body {
   background-color: var(--bg-color);
   color: var(--text-color);
   transition: background-color var(--transition-speed), color var(--transition-speed);
   height: 100vh;
   overflow: hidden;
 }
 
 /* Splash Screen */
 .splash-screen {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: var(--header-bg);
   display: flex;
   justify-content: center;
   align-items: center;
   z-index: 1000;
   transition: opacity 0.5s ease-out;
 }
 
 .splash-content {
   text-align: center;
   padding: 2rem;
 }
 
 .logo-container {
   margin-bottom: 1.5rem;
 }
 
 .logo {
   width: 100px;
   height: 100px;
   background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
   border-radius: 24px;
   display: flex;
   justify-content: center;
   align-items: center;
   margin: 0 auto;
   box-shadow: var(--shadow);
   position: relative;
   overflow: hidden;
 }
 
 .logo::before {
   content: "";
   position: absolute;
   top: -50%;
   left: -50%;
   width: 200%;
   height: 200%;
   background: linear-gradient(to bottom right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 100%);
   transform: rotate(45deg);
 }
 
 .logo i {
   font-size: 50px;
   color: white;
   text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
 }
 
 .splash-content h1 {
   font-size: 2.5rem;
   font-weight: 700;
   margin-bottom: 0.5rem;
   color: var(--primary-color);
   letter-spacing: -0.5px;
 }
 
 .splash-content p {
   color: var(--text-color);
   margin-bottom: 2rem;
   opacity: 0.8;
   font-weight: 500;
 }
 
 .loading-bar {
   width: 240px;
   height: 6px;
   background-color: var(--secondary-color);
   border-radius: 3px;
   overflow: hidden;
   margin: 0 auto;
   box-shadow: var(--inset-shadow);
 }
 
 .loading-progress {
   height: 100%;
   width: 0;
   background: linear-gradient(90deg, var(--primary-color) 0%, var(--accent-color) 100%);
   animation: loading 2s ease-in-out forwards;
 }
 
 @keyframes loading {
   0% {
     width: 0;
   }
   100% {
     width: 100%;
   }
 }
 
 /* Main Chat Container */
 .chat-container {
   max-width: 1200px;
   height: 100vh;
   margin: 0 auto;
   display: flex;
   flex-direction: column;
   opacity: 0;
   transition: opacity 0.5s ease-in;
   background-color: var(--bg-color);
   position: relative;
 }
 
 .chat-container.visible {
   opacity: 1;
 }
 
 /* Chat Header */
 .chat-header {
   background: var(--header-bg);
   padding: 1rem 0;
   box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
   position: relative;
   z-index: 10;
 }
 
 .header-content {
   max-width: 1200px;
   margin: 0 auto;
   padding: 0 1.5rem;
   display: flex;
   justify-content: space-between;
   align-items: center;
 }
 
 .header-left {
   display: flex;
   align-items: center;
   gap: 1rem;
 }
 
 .brand-logo {
   width: 48px;
   height: 48px;
   background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
   border-radius: 12px;
   display: flex;
   justify-content: center;
   align-items: center;
   box-shadow: var(--button-shadow);
 }
 
 .brand-logo i {
   font-size: 24px;
   color: white;
 }
 
 .brand-info {
   display: flex;
   flex-direction: column;
 }
 
 .brand-info h1 {
   font-size: 1.5rem;
   font-weight: 600;
   color: var(--text-color);
   letter-spacing: -0.5px;
   line-height: 1.2;
 }
 
 .brand-tagline {
   font-size: 0.875rem;
   color: var(--text-color);
   opacity: 0.7;
 }
 
 .header-right {
   display: flex;
   gap: 0.75rem;
 }
 
 /* Buttons */
 .icon-button {
   width: 40px;
   height: 40px;
   border-radius: 50%;
   border: none;
   background-color: rgba(255, 255, 255, 0.2);
   backdrop-filter: blur(10px);
   -webkit-backdrop-filter: blur(10px);
   color: var(--text-color);
   display: flex;
   justify-content: center;
   align-items: center;
   cursor: pointer;
   transition: all var(--transition-speed);
   box-shadow: var(--button-shadow);
 }
 
 .dark-mode .icon-button {
   background-color: rgba(0, 0, 0, 0.2);
 }
 
 .icon-button:hover {
   background-color: var(--primary-color);
   color: white;
   transform: translateY(-2px);
 }
 
 .icon-button:active {
   transform: translateY(0);
 }
 
 /* Chat Messages Area */
 .chat-messages {
   flex: 1;
   overflow-y: auto;
   padding: 1.5rem;
   display: flex;
   flex-direction: column;
   gap: 1rem;
   background-color: var(--bg-color);
 }
 
 /* Custom Scrollbar */
 .chat-messages::-webkit-scrollbar {
   width: 8px;
 }
 
 .chat-messages::-webkit-scrollbar-track {
   background: transparent;
 }
 
 .chat-messages::-webkit-scrollbar-thumb {
   background: var(--secondary-color);
   border-radius: 4px;
 }
 
 .chat-messages::-webkit-scrollbar-thumb:hover {
   background: var(--primary-color);
 }
 
 /* Message Bubbles */
 .message {
   max-width: 80%;
   display: flex;
   flex-direction: column;
   animation: fadeIn 0.3s ease-out;
 }
 
 @keyframes fadeIn {
   from {
     opacity: 0;
     transform: translateY(10px);
   }
   to {
     opacity: 1;
     transform: translateY(0);
   }
 }
 
 .user-message {
   align-self: flex-end;
 }
 
 .bot-message {
   align-self: flex-start;
 }
 
 .message-content {
   padding: 1rem;
   border-radius: var(--border-radius);
   box-shadow: var(--shadow);
 }
 
 .user-message .message-content {
   background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
   color: white;
   border-top-right-radius: 0;
 }
 
 .bot-message .message-content {
   background-color: var(--card-bg);
   border-top-left-radius: 0;
   border-left: 4px solid var(--primary-color);
 }
 
 .message-info {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-top: 0.25rem;
   font-size: 0.75rem;
   color: var(--text-color);
   opacity: 0.7;
   padding: 0 0.5rem;
 }
 
 .copy-button {
   background: none;
   border: none;
   color: var(--text-color);
   cursor: pointer;
   opacity: 0.7;
   transition: opacity var(--transition-speed);
 }
 
 .copy-button:hover {
   opacity: 1;
 }
 
 /* Message with Image */
 .message-with-image .message-content {
   display: flex;
   flex-direction: column;
   gap: 0.75rem;
 }
 
 .message-image {
   max-width: 100%;
   max-height: 200px;
   border-radius: 8px;
   object-fit: contain;
 }
 
 /* Typing Indicator */
 .typing-indicator {
   display: none;
   align-items: center;
   gap: 0.5rem;
   padding: 0.75rem 1.25rem;
   background-color: var(--card-bg);
   border-radius: var(--border-radius);
   margin: 0 1.5rem 0.5rem;
   box-shadow: var(--shadow);
   animation: fadeIn 0.3s ease-out;
   border-top-left-radius: 0;
   border-left: 4px solid var(--primary-color);
 }
 
 .typing-indicator.visible {
   display: flex;
 }
 
 .typing-dot {
   width: 8px;
   height: 8px;
   background-color: var(--primary-color);
   border-radius: 50%;
   animation: typingAnimation 1.5s infinite ease-in-out;
 }
 
 .typing-dot:nth-child(1) {
   animation-delay: 0s;
 }
 
 .typing-dot:nth-child(2) {
   animation-delay: 0.2s;
 }
 
 .typing-dot:nth-child(3) {
   animation-delay: 0.4s;
 }
 
 @keyframes typingAnimation {
   0%,
   60%,
   100% {
     transform: translateY(0);
   }
   30% {
     transform: translateY(-6px);
   }
 }
 
 .typing-indicator span {
   font-size: 0.875rem;
   color: var(--text-color);
   opacity: 0.8;
 }
 
 /* Chat Input Area */
 .chat-input {
   padding: 1.25rem 1.5rem;
   background: var(--footer-bg);
   border-top: 1px solid rgba(0, 0, 0, 0.05);
   box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
   z-index: 10;
   position: relative;
 }
 
 .input-wrapper {
   max-width: 1200px;
   margin: 0 auto;
 }
 
 .input-container {
   display: flex;
   align-items: center;
   gap: 0.75rem;
   background-color: var(--input-bg);
   border-radius: var(--border-radius);
   padding: 0.5rem 0.75rem;
   box-shadow: var(--inset-shadow);
   transition: box-shadow 0.3s ease;
   border: 1px solid rgba(0, 0, 0, 0.05);
 }
 
 .input-container:focus-within {
   box-shadow: 0 0 0 2px var(--primary-color);
   border-color: transparent;
 }
 
 .input-action-button {
   width: 36px;
   height: 36px;
   border-radius: var(--button-radius);
   border: none;
   background-color: transparent;
   color: var(--text-color);
   display: flex;
   justify-content: center;
   align-items: center;
   cursor: pointer;
   transition: all var(--transition-speed);
   opacity: 0.7;
 }
 
 .input-action-button:hover {
   background-color: var(--secondary-color);
   opacity: 1;
 }
 
 .input-action-button.active {
   background-color: var(--primary-color);
   color: white;
   opacity: 1;
 }
 
 textarea {
   flex: 1;
   border: none;
   background: transparent;
   padding: 0.5rem;
   resize: none;
   color: var(--text-color);
   font-size: 1rem;
   outline: none;
   max-height: 120px;
   overflow-y: auto;
   line-height: 1.5;
 }
 
 textarea::placeholder {
   color: var(--text-color);
   opacity: 0.6;
 }
 
 .input-actions {
   display: flex;
   align-items: center;
   gap: 0.5rem;
 }
 
 .send-button {
   width: 40px;
   height: 40px;
   border-radius: var(--button-radius);
   border: none;
   background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
   color: white;
   display: flex;
   justify-content: center;
   align-items: center;
   cursor: pointer;
   transition: all var(--transition-speed);
   box-shadow: var(--button-shadow);
 }
 
 .send-button:hover {
   transform: translateY(-2px);
   box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
 }
 
 .send-button:active {
   transform: translateY(0);
 }
 
 /* Image Preview */
 .image-preview-container {
   margin-top: 1rem;
   background-color: var(--card-bg);
   border-radius: var(--border-radius);
   overflow: hidden;
   box-shadow: var(--shadow);
   transition: all var(--transition-speed);
   border: 1px solid rgba(0, 0, 0, 0.05);
 }
 
 .image-preview-container.hidden {
   display: none;
 }
 
 .image-preview-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding: 0.75rem 1rem;
   background-color: var(--secondary-color);
   color: var(--text-color);
   font-weight: 500;
 }
 
 .image-preview-content {
   padding: 0.75rem;
   display: flex;
   justify-content: center;
 }
 
 .image-preview-content img {
   max-width: 100%;
   max-height: 150px;
   object-fit: contain;
   border-radius: 4px;
 }
 
 /* Settings Drawer */
 .settings-drawer {
   position: fixed;
   top: 0;
   right: -350px;
   width: 350px;
   height: 100vh;
   background-color: var(--card-bg);
   box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
   z-index: 1000;
   transition: right var(--transition-speed);
   display: flex;
   flex-direction: column;
   border-left: 1px solid rgba(0, 0, 0, 0.05);
 }
 
 .settings-drawer.open {
   right: 0;
 }
 
 .settings-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding: 1.5rem;
   border-bottom: 1px solid rgba(0, 0, 0, 0.05);
 }
 
 .settings-header h2 {
   font-weight: 600;
   color: var(--text-color);
 }
 
 .settings-content {
   flex: 1;
   padding: 1.5rem;
   overflow-y: auto;
   display: flex;
   flex-direction: column;
   gap: 1.5rem;
 }
 
 .setting-item {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding-bottom: 1rem;
   border-bottom: 1px solid rgba(0, 0, 0, 0.05);
 }
 
 .setting-item span {
   font-weight: 500;
 }
 
 /* Toggle Switch */
 .switch {
   position: relative;
   display: inline-block;
   width: 50px;
   height: 24px;
 }
 
 .switch input {
   opacity: 0;
   width: 0;
   height: 0;
 }
 
 .slider {
   position: absolute;
   cursor: pointer;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;
   background-color: var(--secondary-color);
   transition: .4s;
 }
 
 .slider:before {
   position: absolute;
   content: "";
   height: 16px;
   width: 16px;
   left: 4px;
   bottom: 4px;
   background-color: white;
   transition: .4s;
 }
 
 input:checked + .slider {
   background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
 }
 
 input:checked + .slider:before {
   transform: translateX(26px);
 }
 
 .slider.round {
   border-radius: 34px;
 }
 
 .slider.round:before {
   border-radius: 50%;
 }
 
 /* Settings Input */
 .setting-item input[type="password"] {
   padding: 0.75rem;
   border-radius: var(--button-radius);
   border: 1px solid var(--secondary-color);
   background-color: var(--input-bg);
   color: var(--text-color);
   width: 100%;
   margin-top: 0.5rem;
   font-size: 0.875rem;
   transition: box-shadow 0.3s ease;
 }
 
 .setting-item input[type="password"]:focus {
   outline: none;
   box-shadow: 0 0 0 2px var(--primary-color);
   border-color: transparent;
 }
 
 .settings-button {
   padding: 0.875rem;
   border-radius: var(--border-radius);
   border: none;
   background-color: #ef4444;
   color: white;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 0.5rem;
   transition: all var(--transition-speed);
   font-weight: 500;
   box-shadow: var(--button-shadow);
 }
 
 .settings-button:hover {
   background-color: #dc2626;
   transform: translateY(-2px);
 }
 
 .settings-button:active {
   transform: translateY(0);
 }
 
 .settings-footer {
   margin-top: auto;
   text-align: center;
   opacity: 0.7;
   font-size: 0.875rem;
   padding: 1.5rem 0;
 }
 
 /* Overlay */
 .overlay {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background-color: rgba(0, 0, 0, 0.5);
   backdrop-filter: blur(4px);
   z-index: 999;
   opacity: 0;
   visibility: hidden;
   transition: opacity var(--transition-speed), visibility var(--transition-speed);
 }
 
 .overlay.visible {
   opacity: 1;\
   visibility  visibility var(--transition-speed);
 }
 
 .overlay.visible {
   opacity: 1;
   visibility: visible;
 }
 
 /* Responsive Design */
 @media (max-width: 768px) {
   .message {
     max-width: 90%;
   }
 
   .chat-header {
     padding: 0.75rem 0;
   }
 
   .brand-logo {
     width: 40px;
     height: 40px;
   }
 
   .brand-info h1 {
     font-size: 1.25rem;
   }
 
   .icon-button {
     width: 36px;
     height: 36px;
   }
 
   .chat-messages {
     padding: 1rem;
   }
 
   .chat-input {
     padding: 1rem;
   }
 }
 
 @media (max-width: 480px) {
   .message {
     max-width: 95%;
   }
 
   .settings-drawer {
     width: 85%;
     right: -85%;
   }
 
   .header-left {
     gap: 0.5rem;
   }
 
   .brand-tagline {
     display: none;
   }
 }
 
 /* Utility Classes */
 .hidden {
   display: none;
 }
 
 /* Animations */
 @keyframes pulse {
   0% {
     box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4);
   }
   70% {
     box-shadow: 0 0 0 10px rgba(79, 70, 229, 0);
   }
   100% {
     box-shadow: 0 0 0 0 rgba(79, 70, 229, 0);
   }
 }
 
 /* Notification */
 .notification {
   position: fixed;
   bottom: 20px;
   left: 50%;
   transform: translateX(-50%);
   padding: 12px 24px;
   background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
   color: white;
   border-radius: var(--border-radius);
   box-shadow: var(--shadow);
   z-index: 1000;
   font-weight: 500;
 }
 